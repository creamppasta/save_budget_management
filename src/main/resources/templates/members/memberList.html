<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        body { background-color: #f8f9fa; }
        .container { max-width: 1100px; margin-top: 50px; }
        .table-box { background-color: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        th, td { vertical-align: middle !important; text-align: center; }
        .search-area { background-color: #fff; padding: 20px; border-radius: 15px; margin-bottom: 20px; border: 1px solid #dee2e6; }
    </style>
    <title>íšŒì› ëª©ë¡</title>
</head>
<body>
<div class="container">

    <div class="py-5 text-center">
        <h2>ğŸ‘¥ íšŒì› ëª©ë¡</h2>
    </div>

    <div class="search-area shadow-sm">
        <form th:action="@{/members}" method="get" class="form-row justify-content-center">
            <div class="col-md-5">
                <div class="input-group">
                    <input type="text" name="searchText" class="form-control"
                           placeholder="ì´ë¦„ ë˜ëŠ” í•™ê³¼ë¡œ ê²€ìƒ‰" th:value="${param.searchText}">
                    <div class="input-group-append">
                        <button type="submit" class="btn btn-primary px-4">ê²€ìƒ‰</button>
                    </div>
                </div>
            </div>
            <div class="col-auto">
                <a href="/members" class="btn btn-light border px-3">ì´ˆê¸°í™”</a>
            </div>
        </form>
    </div>

    <div class="table-box">
        <table class="table table-hover" th:if="${!isResultEmpty}">
            <thead class="thead-light">
            <tr>
                <th style="width: 5%" th:if="${session.loginMember == 'ADMIN'}">#</th>
                <th th:style="${session.loginMember == 'ADMIN'} ? 'width: 10%' : 'width: 30%'">ì´ë¦„</th>
                <th style="width: 15%" th:if="${session.loginMember == 'ADMIN'}">í•™ë²ˆ</th>
                <th style="width: 15%" th:if="${session.loginMember == 'ADMIN'}">í•™ê³¼</th>
                <th style="width: 15%" th:if="${session.loginMember == 'ADMIN'}">ì „í™”ë²ˆí˜¸</th>
                <th th:style="${session.loginMember == 'ADMIN'} ? 'width: 15%' : 'width: 40%'">ê°€ì…ì¼</th>
                <th th:style="${session.loginMember == 'ADMIN'} ? 'width: 10%' : 'width: 30%'">ë¹„ê³ </th>
                <th style="width: 15%" th:if="${session.loginMember == 'ADMIN'}">ê´€ë¦¬</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="member : ${members}">
                <td th:text="${member.id}" th:if="${session.loginMember == 'ADMIN'}">1</td>
                <td th:text="${member.name}" class="font-weight-bold">í™ê¸¸ë™</td>
                <td th:text="${member.studentId}" th:if="${session.loginMember == 'ADMIN'}">20231234</td>
                <td th:text="${member.department}" th:if="${session.loginMember == 'ADMIN'}">ì»´í“¨í„°ê³µí•™ê³¼</td>
                <td th:text="${member.phoneNumber}" th:if="${session.loginMember == 'ADMIN'}">010-1234-5678</td>
                <td th:text="${member.joinDate}">2024-02-09</td>
                <td th:text="${member.etc}">ì—†ìŒ</td>
                <td>
                    <div class="btn-group btn-group-sm">
                        <a th:href="@{/members/{id}/edit(id=${member.id})}" class="btn btn-outline-primary"
                           th:if="${session.loginMember == 'ADMIN'}">ìˆ˜ì •</a>
                        <a th:href="@{/members/{id}/delete(id=${member.id})}" class="btn btn-outline-danger"
                           onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');" th:if="${session.loginMember == 'ADMIN'}">ì‚­ì œ</a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <div th:if="${isResultEmpty}" class="text-center py-5">
            <div class="mb-3" style="font-size: 40px;">ğŸ‘¥</div>
            <h4 class="text-muted">ì¡°ê±´ì— ë§ëŠ” íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</h4>
            <p class="text-secondary small">ìƒˆë¡œìš´ íšŒì›ì„ ë“±ë¡í•˜ê±°ë‚˜ ê²€ìƒ‰ì–´ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.</p>
        </div>
    </div>

    <div class="text-center mt-4 mb-5">
        <a href="/" class="btn btn-secondary px-4">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        <a href="/members/new" class="btn btn-primary px-4" th:if="${session.loginMember == 'ADMIN'}">íšŒì› ë“±ë¡í•˜ê¸°</a>
    </div>

</div> </body>
</html>